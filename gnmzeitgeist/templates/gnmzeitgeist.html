{% themeextends "base.html" %}

{% block head %}
<script type="text/javascript" src="/sitemedia/js/jquery.tagcanvas.min.js"></script>
{% endblock %}

{% block body %}

<div class="header">
    <h1>Hello world!</h1>
</div>

<div id="detailscontainer" style="float: left; width: 28%; margin-left: 3px; margin-top: 3px">
    <h3>Details</h3>
    <div id="details"></div>
</div>
<div id="tagcontainer" style="float: left; width: 70%; height: 80%;">
    <canvas id="tagarea" style="width: 100%; height: 80%;" ></canvas>
</div>

        <div class="invisible" id="taglist">

        </div>
<script>
function mouseOverTag(tagname)
{
    /*data-tagtype="contributor" data-section="" data-url=""*/
    console.log($(this));
    tagtype = $('#' + tagname).attr("data-tagtype");
    section = $('#' + tagname).attr("data-section");
    url = $('#' + tagname).attr("data-url");

    str = "<p>You selected <i>" + tagname + "</i><br>";
    str += "<b>Type</b>  " + tagtype + "<br>";
    str += "<b>Section</b>  " + section + "<br>";
    str += "<b>Location</b>  <a target=\"_blank\" href=\"" + url + "\">" + url + "</a><br>";

    $('#details').html(str);
}
$(document).ready(function(){
    $.ajax('data',{
        //accepts: 'text/html',
        success: function(data,textStatus,jqXHR){
            $('#taglist').html(data);
            rtn = $('#tagarea').tagcanvas({
                 textColour : '#1F4385', /* "guardian blue" */
                 weightGradient: { 0: '#586885', 1: '#1F4385' },
                 outlineThickness : 0,
                 maxSpeed : 0.03,
                 depth : 0.25,
                 weight: true,
                 weightFrom: "data-weight",
                 weightMode: "size"
            }, 'taglist');
        }
    });
});
</script>
{% endblock %}